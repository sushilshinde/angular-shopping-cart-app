<app-title-bar pageTitle="Shopping Cart" subTitle="Shopping Cart"></app-title-bar>

<div class="flex-center mt-[10vh]">
    <div class="flex w-[93%] justify-between">
        <div class="w-[72%]">
            <table class="table border-1">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Remove</th>
                    </tr>
                </thead>
                <tbody *ngIf="cartList.length">
                    <tr *ngFor="let item of cartList">
                        <td class="truncate max-w-[10vw]">
                            <a [routerLink]="['/details',item.id]">
                                {{item.title}}
                            </a>
                        </td>
                        <td>{{item.price | currency}}</td>
                        <td>
                            <div class="flex-center">
                                <button (click)="handleQantity('remove',item.id)"
                                    class="bg-[#ff3030b3] p-1 mr-[10px] rounded-lg text-[white]"
                                    [disabled]="item.quantity < 2">
                                    <mat-icon class="text-[17px] font-[800] flex h-[17px] w-[17px]">remove</mat-icon>
                                </button>
                                <span>{{item.quantity}}</span>
                                <button (click)="handleQantity('add',item.id)"
                                    class="bg-[#3fb13fed] p-1 ml-[10px] rounded-lg text-[white]">
                                    <mat-icon class="text-[17px] font-[800] flex h-[17px] w-[17px]">add</mat-icon>
                                </button>
                            </div>
                        </td>
                        <td>{{item.price * item.quantity | currency}}</td>
                        <td (click)="handleRemove(item.id)" class="flex-center"><button
                                class="bg-[#ff3030b3] rounded-lg text-[white] p-1 flex-center px-2">
                                Remove
                            </button></td>
                    </tr>
                </tbody>
                <tr *ngIf="!cartList.length" class="flex-center w-full">
                    <td>No Items Found</td>
                </tr>
            </table>
        </div>
        <div class="grid w-[25%] border-1 p-3" *ngIf="cartList.length">
            <h3 class="text-[#d19c97]">
                <b>
                    Cart Summary
                </b>
            </h3>
            <ul class="font-bold">
                <li class="flex justify-around p-3">
                    <p class="m-[0]">SubTotal</p>
                    <!-- <p class="m-[0]">- </p> -->
                    <p class="m-[0]">{{cartList | customCurrency}}</p>
                </li>
                <li class="flex justify-around p-3">
                    <p class="m-[0]">Shipping</p>
                    <!-- <p class="m-[0]">- </p> -->
                    <p class="m-[0]"> {{0 | currency}}</p>
                </li>
                <mat-divider></mat-divider>
                <li class="flex justify-around p-3">
                    <p class="m-[0]">Total</p>
                    <!-- <p class="m-[0]"> - </p> -->
                    <p class="m-[0]"> {{cartList | customCurrency}}</p>
                </li>
            </ul>
            <a class="bg-[#d19c97] h-[50px] p-3 text-[white] font-[600] text-center">
                Proceed to Pay
            </a>
        </div>
    </div>
</div>