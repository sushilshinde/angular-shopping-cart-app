<!-- Header section -->
<header class="px-[2.5vw] sm:px-[4.5vw] pt-3 mt-[1vh] w-full" *ngIf="showheader">

  <!-- Logo and title, visible on small screens -->
  <h1 class="font-bold text-[2rem] sm:hidden ml-[30%]">
    <span class="font-extrabold border px-4 py-2 mr-1 text-[#d19c97]">E</span>
    Shopper
  </h1>

  <!-- Toolbar for navigation and search -->
  <mat-toolbar class="justify-between bg-[transparent] px-[0vw]">

    <!-- Logo and title, visible on larger screens -->
    <h1 class="font-bold text-[2rem] hidden sm:block">
      <span class="font-extrabold border px-4 py-2 mr-1 text-[#d19c97]">E</span>
      Shopper
    </h1>

    <!-- Search bar -->
    <div class="flex w-[65%] sm:w-[50%]">
      <form class="text-left border w-[100%]">
        <input class="p-1 w-[100%]" type="text" placeholder="Search for products" [(ngModel)]="search"/>
      </form>
      <button mat-icon-button class="px-2 text-[#d19c97] flex-center border-[1px]"
        aria-label="Example icon-button with search icon" (click)="onSearch()">
        <mat-icon>search</mat-icon>
      </button>
    </div>

    <!-- User favorites and cart buttons -->
    <div class="flex">
      <!-- User favorites button -->
      <button mat-icon-button class="flex gap-x-[1vw] text-[#d19c97] items-center border-[1px] px-2 py-1 mr-1"
        aria-label="Example icon-button with heart icon">
        <mat-icon>favorite</mat-icon>
        <p class="m-[0]">0</p>
      </button>

      <!-- User cart button with dynamic cart count -->
      <button *ngIf="isAuthenticated && showCart" mat-icon-button [matMenuTriggerFor]="menu"
        class="flex gap-x-[1vw] text-[#d19c97] items-center border-[1px] px-2 py-1">
        <mat-icon>shopping_cart</mat-icon>
        <p class="m-[0]">{{ cartProducts.length }}</p>
      </button>
    </div>

    <!-- Dropdown menu for the user's cart -->
    <mat-menu #menu="matMenu">
      <app-cart-list *ngIf="cartProducts.length" [cartData]="cartProducts"></app-cart-list>
      <p class="p-5" *ngIf="!cartProducts.length">Cart is empty!</p>
    </mat-menu>
  </mat-toolbar>

  
  <mat-divider></mat-divider>

  <!-- Navigation bar component -->
  <app-navbar></app-navbar>
</header>
